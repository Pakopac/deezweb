(function(t){function a(a){for(var r,s,i=a[0],o=a[1],u=a[2],v=0,f=[];v<i.length;v++)s=i[v],n[s]&&f.push(n[s][0]),n[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);l&&l(a);while(f.length)f.shift()();return c.push.apply(c,u||[]),e()}function e(){for(var t,a=0;a<c.length;a++){for(var e=c[a],r=!0,i=1;i<e.length;i++){var o=e[i];0!==n[o]&&(r=!1)}r&&(c.splice(a--,1),t=s(s.s=e[0]))}return t}var r={},n={app:0},c=[];function s(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=r,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)s.d(e,r,function(a){return t[a]}.bind(null,r));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/deezweb/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=a,i=i.slice();for(var u=0;u<i.length;u++)a(i[u]);var l=o;c.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var r=e("64a9"),n=e.n(r);n.a},"28c5":function(t,a,e){"use strict";var r=e("e524"),n=e.n(r);n.a},"431e":function(t,a,e){},"45c3":function(t,a,e){},4893:function(t,a,e){"use strict";var r=e("431e"),n=e.n(r);n.a},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("097d");var r=e("2b0e"),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Navbar"),e("router-view")],1)},c=[],s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar"},[e("div",{staticClass:"container"},[e("span",{staticClass:"titleNavbar"},[e("router-link",{attrs:{to:"/"}},[t._v("Deezweb")])],1),e("router-link",{attrs:{to:"/"}},[e("i",{staticClass:"fa fa-home"}),t._v(" Accueil")]),e("router-link",{attrs:{to:"/search"}},[e("i",{staticClass:"fa fa-search"}),t._v(" Rechercher un titre")]),e("router-link",{attrs:{to:"/fav"}},[e("i",{staticClass:"fa fa-heartbeat"}),t._v(" Mes favoris")])],1)])},i=[],o=(e("7f10"),{name:"Navbar"}),u=o,l=(e("28c5"),e("2877")),v=Object(l["a"])(u,s,i,!1,null,"9f5fa36e",null),f=v.exports,h={name:"app",components:{Navbar:f}},d=h,p=(e("034f"),Object(l["a"])(d,n,c,!1,null,null,null)),m=p.exports,k=e("951b"),_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home"},[t._m(0),t.track?e("div",{staticClass:"blockRandomTrack"},[e("h2",[t._v("Une musique de vos favoris au hasard:")]),e("TrackCard",{key:t.track.id,staticClass:"cardTrack",attrs:{track:t.track}}),e("button",{on:{click:t.changeTrack}},[e("i",{staticClass:"fa fa-random"}),t._v("Choisir une autre musique")])],1):t._e()])},b=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"blockTitleHome"},[e("h1",[t._v("Bienvenue sur Deezweb")]),e("p",[t._v("L'application qui permet facilement d'écouter de la musique.")])])}],g=(e("f559"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("article",{staticClass:"track-card"},[e("div",{staticClass:"flex"},[e("figure",[e("img",{attrs:{src:t.track.artist.picture,alt:t.track.artist.name}})]),e("div",[e("h1",[t._v(t._s(t.track.title))]),e("p",[t._v(t._s(t.track.artist.name)+"/"+t._s(t.track.album.title))])])]),e("div",{staticStyle:{display:"block"}},[e("audio",{attrs:{controls:"",src:t.track.preview}}),e("br"),e("button",{class:t.isFav,on:{click:t.addFav}},[e("i",{class:t.iconButton}),t._v(t._s(t.textButton))])])])}),C=[],S=e("f499"),w=e.n(S),y={name:"TrackCard",props:["track"],data:function(){return{Fav:!0,allFav:[]}},created:function(){localStorage.getItem("track".concat(this.track.id))?this.Fav=!1:this.Fav=!0},methods:{addFav:function(){null==localStorage.getItem("track".concat(this.track.id))?(localStorage.setItem("track".concat(this.track.id),w()(this.track)),this.Fav=!1):(localStorage.removeItem("track".concat(this.track.id)),this.Fav=!0)}},computed:{isFav:function(){return 1==this.Fav?"btnFav":"btnUnFav"},iconButton:function(){return 1==this.Fav?"fa fa-heart":"fa fa-trash"},textButton:function(){return 1==this.Fav?"Ajouter aux favoris":"Retirer des favoris"}}},T=y,O=(e("667c"),Object(l["a"])(T,g,C,!1,null,"7c483ce0",null)),x=O.exports,A={name:"Home",components:{TrackCard:x},data:function(){return{tracks:[],track:""}},created:function(){for(var t in window.localStorage)JSON.parse(t.startsWith("track"))&&this.tracks.push(JSON.parse(window.localStorage[t]));this.track=this.tracks[Math.floor(Math.random()*this.tracks.length)]},methods:{changeTrack:function(){for(var t in this.tracks=[],window.localStorage)JSON.parse(t.startsWith("track"))&&this.tracks.push(JSON.parse(window.localStorage[t]));var a=this.tracks[Math.floor(Math.random()*this.tracks.length)];a.id!=this.track.id||1==this.tracks.length?this.track=a:this.changeTrack()}}},F=A,j=(e("7b97"),Object(l["a"])(F,_,b,!1,null,"152a5684",null)),N=j.exports,M=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"search"},[e("h1",[t._v("Recherche")]),e("p",[t._v("Recherchez un titre sur Deezer en utilisant le formulaire suivant")]),e("hr"),e("form",{on:{submit:function(a){return a.preventDefault(),t.getSearch(a)}}},[e("div",{staticClass:"searchTitle"},[e("span",[t._v("Titre: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],attrs:{placeholder:"Eminem, Armin Van Buuren, Rihanna, ...",type:"text"},domProps:{value:t.q},on:{input:function(a){a.target.composing||(t.q=a.target.value)}}})]),e("div",{staticClass:"searchFilter"},[e("span",[t._v("Trier par:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.order=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"ALBUM_ASC"}},[t._v("Album")]),e("option",{attrs:{value:"ARTIST_ASC"}},[t._v("Artiste")]),e("option",{attrs:{value:"TRACK_ASC"}},[t._v("Musique")]),e("option",{attrs:{value:"RANKING_DESC"}},[t._v("Les plus populaires")]),e("option",{attrs:{value:"RATING_DESC"}},[t._v("Les mieux notés")])])]),e("button",{staticClass:"btn"},[t._v("Go")])]),e("hr"),t.tracks.data&&0!==t.tracks.data.length?e("div",[e("h2",[t._v("Résultats")]),e("div",{staticClass:"trackList"},t._l(t.tracks.data,function(t){return e("TrackCard",{key:t.id,attrs:{track:t}})}),1)]):""!==t.tracks?e("p",{staticClass:"no-result"},[t._v("Aucun résultat pour cette recherche ...")]):t._e()])},q=[],R=e("795b"),E=e.n(R),B=e("bc3a"),J=e.n(B),L="https://cors-anywhere.herokuapp.com/https://api.deezer.com/search",$={fetchAll:function(t,a){return J.a.get("".concat(L,"/?q=").concat(t,"&order=").concat(a)).then(function(t){return t.data}).then(function(t){return 1===t.error?E.a.reject(t):E.a.resolve(t)})}},I={name:"Search",data:function(){return{tracks:"",q:"",order:"ALBUM_ASC"}},components:{TrackCard:x},methods:{getSearch:function(){var t=this;$.fetchAll(this.q,this.order).then(function(a){t.tracks=a})}}},P=I,z=(e("4893"),Object(l["a"])(P,M,q,!1,null,"422100a2",null)),D=z.exports,U=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"fav"},[e("h1",[t._v("Mes favoris")]),e("p",[t._v("Liste de mes titres favoris")]),e("hr"),0!=t.tracks.length?e("div",{staticClass:"trackList"},t._l(t.tracks,function(t){return e("TrackCard",{key:t.id,attrs:{track:t}})}),1):e("p",{staticClass:"no-result"},[t._v("Aucun favoris dans votre liste ...")])])},G=[],W={name:"Fav",components:{TrackCard:x},data:function(){return{tracks:[]}},created:function(){for(var t in window.localStorage)JSON.parse(t.startsWith("track"))&&this.tracks.push(JSON.parse(window.localStorage[t]))}},H=W,K=Object(l["a"])(H,U,G,!1,null,"6c5e83b4",null),V=K.exports;r["a"].use(k["a"]);var Q=new k["a"]({routes:[{name:"home",path:"/",component:N},{name:"search",path:"/search",component:D},{name:"fav",path:"/fav",component:V}]});r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(m)},router:Q}).$mount("#app")},"64a9":function(t,a,e){},"667c":function(t,a,e){"use strict";var r=e("aa39"),n=e.n(r);n.a},"7b97":function(t,a,e){"use strict";var r=e("45c3"),n=e.n(r);n.a},aa39:function(t,a,e){},e524:function(t,a,e){}});
//# sourceMappingURL=app.d75662eb.js.map